{"ast":null,"code":"import axios from \"axios\";\nconst api_fetchProfile = () => {\n  // console.log(\"called profile\");\n  return new Promise((resolve, reject) => {\n    const token = localStorage.getItem(\"token\");\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    const axiosInstance = axios.create({\n      baseURL: \"http://localhost:8080/api/\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    axiosInstance.get(\"/user/profile\").then(response => {\n      resolve(response.data); // 将结果通过 resolve 返回\n    }).catch(error => {\n      reject(error); // 将错误通过 reject 返回\n    });\n  });\n};\n\nexport default api_fetchProfile;","map":{"version":3,"names":["axios","api_fetchProfile","Promise","resolve","reject","token","localStorage","getItem","defaults","headers","common","axiosInstance","create","baseURL","Authorization","get","then","response","data","catch","error"],"sources":["/Users/james/Projects/cms/client/src/services/user/api_fetchProfile.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api_fetchProfile = () => {\n  // console.log(\"called profile\");\n  return new Promise((resolve, reject) => {\n    const token = localStorage.getItem(\"token\");\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n\n    const axiosInstance = axios.create({\n      baseURL: \"http://localhost:8080/api/\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"application/json\",\n      },\n    });\n\n    axiosInstance\n      .get(\"/user/profile\")\n      .then((response) => {\n        resolve(response.data); // 将结果通过 resolve 返回\n      })\n      .catch((error) => {\n        reject(error); // 将错误通过 reject 返回\n      });\n  });\n};\n\nexport default api_fetchProfile;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B;EACA,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CP,KAAK,CAACQ,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAI,UAASL,KAAM,EAAC;IAElE,MAAMM,aAAa,GAAGX,KAAK,CAACY,MAAM,CAAC;MACjCC,OAAO,EAAE,4BAA4B;MACrCJ,OAAO,EAAE;QACPK,aAAa,EAAG,UAAST,KAAM,EAAC;QAChC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEFM,aAAa,CACVI,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,QAAQ,IAAK;MAClBd,OAAO,CAACc,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBhB,MAAM,CAACgB,KAAK,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC;EACN,CAAC,CAAC;AACJ,CAAC;;AAED,eAAenB,gBAAgB"},"metadata":{},"sourceType":"module"}